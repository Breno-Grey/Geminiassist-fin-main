Using Nixpacks

==============


context: 87pk-Hbjc

╔══════════════════════════════ Nixpacks v1.34.1 ══════════════════════════════╗

║ setup      │ python3, gcc                                                    ║

║──────────────────────────────────────────────────────────────────────────────║

║ install    │ python -m venv --copies /opt/venv && . /opt/venv/bin/activate   ║

║            │ && pip install -r requirements.txt                              ║

║──────────────────────────────────────────────────────────────────────────────║

║ start      │ /opt/venv/bin/gunicorn --worker-class                           ║

║            │ aiohttp.worker.GunicornWebWorker --bind 0.0.0.0:$PORT           ║

║            │ src.StartBot:run                                                ║

╚══════════════════════════════════════════════════════════════════════════════╝

[internal] load build definition from Dockerfile

[internal] load build definition from Dockerfile  ✔ 0ms

[internal] load build definition from Dockerfile

[internal] load build definition from Dockerfile  ✔ 8ms

[internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1741046653

[internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1741046653  ✔ 66ms

[internal] load .dockerignore

[internal] load .dockerignore  ✔ 0ms

[internal] load .dockerignore

[internal] load .dockerignore  ✔ 7ms

[stage-0 8/8] COPY . /app

[stage-0 7/8] RUN printf '\nPATH=/opt/venv/bin:$PATH' >> /root/.profile

[stage-0 6/8] RUN --mount=type=cache,id=s/ff561f91-e80f-4b74-92d3-3ec2a885d0e6-/root/cache/pip,target=/root/.cache/pip python -m venv --copies /opt/venv && . /opt/venv/bin/activate && pip install -r requirements.txt

[stage-0 5/8] COPY . /app/.

[stage-0 4/8] RUN nix-env -if .nixpacks/nixpkgs-bc8f8d1be58e8c8383e683a06e1e1e57893fff87.nix && nix-collect-garbage -d

[stage-0 3/8] COPY .nixpacks/nixpkgs-bc8f8d1be58e8c8383e683a06e1e1e57893fff87.nix .nixpacks/nixpkgs-bc8f8d1be58e8c8383e683a06e1e1e57893fff87.nix

[internal] load build context

[stage-0 2/8] WORKDIR /app/

[stage-0 1/8] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1741046653@sha256:ed406b77fb751927991b8655e76c33a4521c4957c2afeab293be7c63c2a373d2

[internal] load build context  ✔ 0ms

[stage-0 1/8] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1741046653@sha256:ed406b77fb751927991b8655e76c33a4521c4957c2afeab293be7c63c2a373d2

[internal] load build context

[internal] load build context  ✔ 17ms

[stage-0 2/8] WORKDIR /app/  ✔ 0ms – CACHED

[stage-0 3/8] COPY .nixpacks/nixpkgs-bc8f8d1be58e8c8383e683a06e1e1e57893fff87.nix .nixpacks/nixpkgs-bc8f8d1be58e8c8383e683a06e1e1e57893fff87.nix  ✔ 0ms – CACHED

[stage-0 4/8] RUN nix-env -if .nixpacks/nixpkgs-bc8f8d1be58e8c8383e683a06e1e1e57893fff87.nix && nix-collect-garbage -d  ✔ 0ms – CACHED

[stage-0 5/8] COPY . /app/.

[stage-0 5/8] COPY . /app/.  ✔ 59ms

[stage-0 6/8] RUN --mount=type=cache,id=s/ff561f91-e80f-4b74-92d3-3ec2a885d0e6-/root/cache/pip,target=/root/.cache/pip python -m venv --copies /opt/venv && . /opt/venv/bin/activate && pip install -r requirements.txt

Collecting python-telegram-bot==20.7 (from -r requirements.txt (line 1))

  Downloading python_telegram_bot-20.7-py3-none-any.whl.metadata (15 kB)

Collecting google-generativeai==0.3.2 (from -r requirements.txt (line 2))

  Downloading google_generativeai-0.3.2-py3-none-any.whl.metadata (5.9 kB)

Collecting python-dotenv==1.0.0 (from -r requirements.txt (line 3))

  Downloading python_dotenv-1.0.0-py3-none-any.whl.metadata (21 kB)

Collecting matplotlib==3.8.2 (from -r requirements.txt (line 4))
  Downloading fonttools-4.57.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (102 kB)

Collecting kiwisolver>=1.3.1 (from matplotlib==3.8.2->-r requirements.txt (line 4))

  Downloading kiwisolver-1.4.8-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.2 kB)

Collecting packaging>=20.0 (from matplotlib==3.8.2->-r requirements.txt (line 4))

  Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)

Collecting pillow>=8 (from matplotlib==3.8.2->-r requirements.txt (line 4))

  Downloading pillow-11.2.1-cp312-cp312-manylinux_2_28_x86_64.whl.metadata (8.9 kB)

Collecting pyparsing>=2.3.1 (from matplotlib==3.8.2->-r requirements.txt (line 4))

  Downloading pyparsing-3.2.3-py3-none-any.whl.metadata (5.0 kB)

Collecting python-dateutil>=2.7 (from matplotlib==3.8.2->-r requirements.txt (line 4))

  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)

Collecting proto-plus<2.0.0dev,>=1.22.3 (from google-ai-generativelanguage==0.4.0->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading proto_plus-1.26.1-py3-none-any.whl.metadata (2.2 kB)

Collecting protobuf (from google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading protobuf-4.25.7-cp37-abi3-manylinux2014_x86_64.whl.metadata (541 bytes)

Collecting googleapis-common-protos<2.0.0,>=1.56.2 (from google-api-core->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading googleapis_common_protos-1.70.0-py3-none-any.whl.metadata (9.3 kB)

Collecting requests<3.0.0,>=2.18.0 (from google-api-core->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)

Collecting cachetools<6.0,>=2.0.0 (from google-auth->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading cachetools-5.5.2-py3-none-any.whl.metadata (5.4 kB)

Collecting pyasn1-modules>=0.2.1 (from google-auth->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading pyasn1_modules-0.4.2-py3-none-any.whl.metadata (3.5 kB)

Collecting rsa<5,>=3.1.4 (from google-auth->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading rsa-4.9.1-py3-none-any.whl.metadata (5.6 kB)

Collecting anyio (from httpx~=0.25.2->python-telegram-bot==20.7->-r requirements.txt (line 1))

  Downloading anyio-4.9.0-py3-none-any.whl.metadata (4.7 kB)

Collecting certifi (from httpx~=0.25.2->python-telegram-bot==20.7->-r requirements.txt (line 1))

  Downloading certifi-2025.4.26-py3-none-any.whl.metadata (2.5 kB)

Collecting httpcore==1.* (from httpx~=0.25.2->python-telegram-bot==20.7->-r requirements.txt (line 1))

  Downloading httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)

Collecting idna (from httpx~=0.25.2->python-telegram-bot==20.7->-r requirements.txt (line 1))

  Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)

Collecting sniffio (from httpx~=0.25.2->python-telegram-bot==20.7->-r requirements.txt (line 1))

  Downloading sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)

Collecting h11>=0.16 (from httpcore==1.*->httpx~=0.25.2->python-telegram-bot==20.7->-r requirements.txt (line 1))

  Downloading h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)

Collecting six>=1.5 (from python-dateutil>=2.7->matplotlib==3.8.2->-r requirements.txt (line 4))

  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)

Collecting grpcio<2.0dev,>=1.33.2 (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.10.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,!=2.8.*,!=2.9.*,<3.0.0dev,>=1.34.0->google-ai-generativelanguage==0.4.0->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading grpcio-1.71.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.8 kB)

Collecting grpcio-status<2.0.dev0,>=1.33.2 (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.10.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,!=2.8.*,!=2.9.*,<3.0.0dev,>=1.34.0->google-ai-generativelanguage==0.4.0->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading grpcio_status-1.71.0-py3-none-any.whl.metadata (1.1 kB)

Collecting pyasn1<0.7.0,>=0.6.1 (from pyasn1-modules>=0.2.1->google-auth->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading pyasn1-0.6.1-py3-none-any.whl.metadata (8.4 kB)

Collecting charset-normalizer<4,>=2 (from requests<3.0.0,>=2.18.0->google-api-core->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading charset_normalizer-3.4.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (35 kB)

Collecting urllib3<3,>=1.21.1 (from requests<3.0.0,>=2.18.0->google-api-core->google-generativeai==0.3.2->-r requirements.txt (line 2))

  Downloading urllib3-2.4.0-py3-none-any.whl.metadata (6.5 kB)

INFO: pip is looking at multiple versions of grpcio-status to determine which version is compatible with other requirements. This could take a while.


Downloading contourpy-1.3.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (323 kB)

Downloading cycler-0.12.1-py3-none-any.whl (8.3 kB)

Downloading fonttools-4.57.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.9 MB)

   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.9/4.9 MB 278.8 MB/s eta 0:00:00



Downloading google_api_core-2.24.2-py3-none-any.whl (160 kB)

Downloading google_auth-2.39.0-py2.py3-none-any.whl (212 kB)

Downloading httpx-0.25.2-py3-none-any.whl (74 kB)

Downloading httpcore-1.0.9-py3-none-any.whl (78 kB)

Downloading kiwisolver-1.4.8-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.5 MB)

   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 790.2 MB/s eta 0:00:00



Downloading packaging-25.0-py3-none-any.whl (66 kB)

Downloading pillow-11.2.1-cp312-cp312-manylinux_2_28_x86_64.whl (4.6 MB)

   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.6/4.6 MB 685.4 MB/s eta 0:00:00



Downloading protobuf-4.25.7-cp37-abi3-manylinux2014_x86_64.whl (294 kB)

Downloading pyparsing-3.2.3-py3-none-any.whl (111 kB)

Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)

Downloading tqdm-4.67.1-py3-none-any.whl (78 kB)

Downloading typing_extensions-4.13.2-py3-none-any.whl (45 kB)

Downloading cachetools-5.5.2-py3-none-any.whl (10 kB)

Downloading googleapis_common_protos-1.70.0-py3-none-any.whl (294 kB)

Downloading proto_plus-1.26.1-py3-none-any.whl (50 kB)

Downloading pyasn1_modules-0.4.2-py3-none-any.whl (181 kB)

Downloading requests-2.32.3-py3-none-any.whl (64 kB)

Downloading certifi-2025.4.26-py3-none-any.whl (159 kB)

Downloading idna-3.10-py3-none-any.whl (70 kB)

Downloading rsa-4.9.1-py3-none-any.whl (34 kB)

Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)

Downloading anyio-4.9.0-py3-none-any.whl (100 kB)

Downloading sniffio-1.3.1-py3-none-any.whl (10 kB)

Downloading charset_normalizer-3.4.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (148 kB)

Downloading grpcio-1.71.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (5.9 MB)

   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.9/5.9 MB 625.4 MB/s eta 0:00:00
Downloading grpcio_status-1.62.3-py3-none-any.whl (14 kB)

Downloading h11-0.16.0-py3-none-any.whl (37 kB)

Downloading pyasn1-0.6.1-py3-none-any.whl (83 kB)

Downloading urllib3-2.4.0-py3-none-any.whl (128 kB)

Installing collected packages: urllib3, typing-extensions, tqdm, sniffio, six, python-dotenv, pyparsing, pyasn1, protobuf, pillow, packaging, numpy, kiwisolver, idna, h11, grpcio, fonttools, cycler, charset-normalizer, certifi, cachetools, rsa, requests, python-dateutil, pyasn1-modules, proto-plus, httpcore, googleapis-common-protos, contourpy, anyio, matplotlib, httpx, grpcio-status, google-auth, python-telegram-bot, google-api-core, google-ai-generativelanguage, google-generativeai

Successfully installed anyio-4.9.0 cachetools-5.5.2 certifi-2025.4.26 charset-normalizer-3.4.2 contourpy-1.3.2 cycler-0.12.1 fonttools-4.57.0 google-ai-generativelanguage-0.4.0 google-api-core-2.24.2 google-auth-2.39.0 google-generativeai-0.3.2 googleapis-common-protos-1.70.0 grpcio-1.71.0 grpcio-status-1.62.3 h11-0.16.0 httpcore-1.0.9 httpx-0.25.2 idna-3.10 kiwisolver-1.4.8 matplotlib-3.8.2 numpy-1.26.3 packaging-25.0 pillow-11.2.1 proto-plus-1.26.1 protobuf-4.25.7 pyasn1-0.6.1 pyasn1-modules-0.4.2 pyparsing-3.2.3 python-dateutil-2.9.0.post0 python-dotenv-1.0.0 python-telegram-bot-20.7 requests-2.32.3 rsa-4.9.1 six-1.17.0 sniffio-1.3.1 tqdm-4.67.1 typing-extensions-4.13.2 urllib3-2.4.0

[stage-0 6/8] RUN --mount=type=cache,id=s/ff561f91-e80f-4b74-92d3-3ec2a885d0e6-/root/cache/pip,target=/root/.cache/pip python -m venv --copies /opt/venv && . /opt/venv/bin/activate && pip install -r requirements.txt  ✔ 12s

[stage-0 7/8] RUN printf '\nPATH=/opt/venv/bin:$PATH' >> /root/.profile

[stage-0 7/8] RUN printf '\nPATH=/opt/venv/bin:$PATH' >> /root/.profile  ✔ 108ms

[stage-0 8/8] COPY . /app

[stage-0 8/8] COPY . /app  ✔ 14ms

[auth] sharing credentials for us-east4.registry.rlwy.net

[auth] sharing credentials for us-east4.registry.rlwy.net  ✔ 0ms

=== Successfully Built! ===

Run:

docker run -it us-east4.registry.rlwy.net/ff561f91-e80f-4b74-92d3-3ec2a885d0e6:e95b9e19-3d09-4288-be5d-d7d0b9733f32

Build time: 17.32 seconds

